FROM node:18-bullseye

WORKDIR /app

# 1️⃣ create package.json
RUN npm init -y

# 2️⃣ install the two exact versions we need
#    (quote the scoped package so the shell can't split on whitespace)
RUN npm install "@babel/parser@7.23.0" "@babel/traverse@7.21.2"

# copy the PoC after deps are in place
COPY exploit.js payload.js ./

CMD [ "node", "exploit.js" ]
